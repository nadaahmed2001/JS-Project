<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!--=============== FLATICON ===============-->
    <link
      rel="stylesheet"
      href="https://cdn-uicons.flaticon.com/2.0.0/uicons-regular-straight/css/uicons-regular-straight.css"
    />
    <link rel="icon" href="../../assets/images/logo.png" type="image/x-icon" />
    <!--=============== SWIPER CSS ===============-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />

    <!--=============== CSS ===============-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/assets/css/style.css" />
    <link rel="stylesheet" href="profile.css" />
    <link rel="stylesheet" href="/modules/contact/contact.css" />

    <link rel="stylesheet" href="/assets/icons/all.css" />

    <title>Profile</title>

  </head>
  <body>
    <section id="header">
      <a href="#"
        ><img
          src="../../assets/images/logo.png"
          style="height: 40px"
          class="logo"
          alt="Logo"
      /></a>
      <div>
        <ul id="navbar">
          <li><a href="../../index.html">Home</a></li>
          <li><a href="../../shop-pages/shop.html">Shop</a></li>
          <li><a href="../../Blog_About_Pages/Blog_page.html">Blog</a></li>
          <li><a href="../../Blog_About_Pages/About_page.html">About</a></li>
          <li>
            <a class="active" href="/modules/contact/contact.html">Contact</a>
          </li>
          <li>
            <a
              href="../../modules/cart/cart.html"
              class="header__action-btn"
              title="Cart"
            >
              <img src="../../assets/images/icon-cart.svg" alt="" />
              <span class="cart__count"></span>
            </a>
          </li>
          <!--  ================ User part in navbar ================ -->
          <li id="user-nav">
            <a href="#" id="close"><i class="fa-solid fa-xmark"></i></a>
          </li>
        </ul>
      </div>
      <div id="mobile">
        <a
          href="/modules/cart/cart.html"
          class="header__action-btn"
          title="Cart"
        >
          <img src="../../assets/images/icon-cart.svg" alt="" />
          <span class="cart__count"></span>
        </a>
        <i id="bar" class="fa-solid fa-outdent"></i>
      </div>
    </section>


    <div class="container mt-5">
        <div class="card shadow-lg rounded-4 overflow-hidden">
          <div class="card-header bg-gradient-to-r from-primary to-indigo-500 text-white text-center py-4">
            <h3 class="mb-0" style="color:black;">Welcome, <span id="userName" class="fw-bold"></span>!</h3>
          </div>
          <div class="card-body">
            <div class="row mb-4">
              <div class="col-md-3 text-muted">Email:</div>
              <div class="col-md-9" id="userEmail"></div>
            </div>
            <div class="row mb-4">
              <div class="col-md-3 text-muted">Phone:</div>
              <div class="col-md-9" id="userPhone"></div>
            </div>
            <div class="row mb-4">
              <div class="col-md-3 text-muted">Address:</div>
              <div class="col-md-9" id="userAddress"></div>
            </div>
            <div class="text-center">
              <button id="logoutBtn" class="btn btn-danger py-2 px-4 fs-5 shadow-sm transition-all duration-300 hover:bg-red-600 hover:scale-105 focus:outline-none">
                Logout
              </button>
            </div>
          </div>
        </div>
      </div>
      


    <footer class="section-p1">
        <div class="col">
          <img class="logo" src="../../assets/images/logo.png" style="height: 40px;" alt="" />
          <h4>Contact</h4>
          <p>
            <strong>Address:</strong>562 Wellington Road /Street 32, San Francisco
          </p>
          <p><strong>Phone:</strong>+01 2222 365 /(+91)01 2345 6789</p>
          <p><strong>Hours:</strong>10:00 - 18:00, Mon - Sat</p>
          <div class="follow">
            <h4>Follow Us</h4>
            <div class="icons">
              <i class="fa-brands fa-facebook-f"></i>
              <i class="fa-brands fa-twitter"></i>
              <i class="fa-brands fa-instagram"></i>
              <i class="fa-brands fa-pinterest"></i>
              <i class="fa-brands fa-youtube"></i>
            </div>
          </div>
        </div>
        <div class="col">
          <h4>About</h4>
          <a href="#">About us</a>
          <a href="#">Delivery Information</a>
          <a href="#">Privacy Policy</a>
          <a href="#">Terms&Conditions</a>
          <a href="#">Contact Us</a>
        </div>
        <div class="col">
          <h4>My Account</h4>
          <a href="#">Sign In</a>
          <a href="#">View Cart</a>
          <a href="#">My wishlist</a>
          <a href="#">Track My Order</a>
          <a href="#">Help</a>
        </div>
        <div class="col install">
          <h4>Install App</h4>
          <p>FRom App Store or Google Play</p>
          <div class="row">
            <img src="../../assets/images/app.jpg" alt="" />
            <img src="../../assets/images/play.jpg" alt="" />
          </div>
          <p>Secured Payment Gat</p>
          <img src="../../assets/images/pay.png" />
        </div>
        <div class="copyright">&copy; 2024, Tech - E-commerce</div>
  
      </footer>
  
      <script src="profile.js"></script>
      <script src="../../javascript.js" type="module"></script>
      <script>
        document.addEventListener('DOMContentLoaded', () => {
          let cart = JSON.parse(localStorage.getItem("cart")) || [];
          const totalCount = cart.reduce((count, item) => count + item.quantity, 0); // Sum of all product quantities
          const cartCountElement = document.querySelector('.cart__count'); // Select the element with the class
          cartCountElement.textContent = totalCount;
      
          // ------------------- navbar -------------------
          const userNav = document.getElementById('user-nav'); // Placeholder for user-specific links
          const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));
      
          if (loggedInUser) {
              // User is logged in, show their name and Logout button
              userNav.innerHTML = `
              <a href="profile.html">${loggedInUser.firstName}</a>
             <a id="logoutBtn" style="margin-left: 10px; color: white; background-color: #dc3545; border-color: #dc3545; padding: 5px 10px; border-radius: 5px; cursor: pointer;">Logout</a>
            `;
      
              // Handle Logout
              document.getElementById('logoutBtn').addEventListener('click', function () {
                  localStorage.removeItem('loggedInUser');
                  // alert('You have logged out!');
                  window.location.reload(); // Reload page to update the navbar
              });
          } else {
              // User is logged out, show Login and Register buttons
              userNav.innerHTML =
                  `
              <a href="../user/login.html"
              style="margin-right: 10px; color: white; background-color: #007bff; border-color: #007bff; padding: 5px 10px; border-radius: 5px; text-decoration: none; cursor: pointer;"
              >Login</a>
              <a href="../user/register.html"
              style="color: white; background-color: #28a745; border-color: #28a745; padding: 5px 10px; border-radius: 5px; text-decoration: none; cursor: pointer;"
              >Register</a>
      
            `;
          }
      });
      </script>
    
    </body>
</html>
