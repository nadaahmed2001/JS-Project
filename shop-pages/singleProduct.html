<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Single-product</title>
    
    <link rel="icon" href="../assets/images/logo.png" type="image/x-icon" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <link rel="stylesheet" href="/assets/css/style.css" />
    <link rel="stylesheet" href="/assets/icons/all.css" />
  </head>
  <body>
    <!-- navbarPart -->
    <section id="header">
      <a href="#"><img src="../assets/images/logo.png" style="height: 30px;" class="logo" alt="Logo" /></a>
      <div>
        <ul id="navbar">
          <li><a href="../index.html">Home</a></li>
          <li><a class="active" href="shop.html">Shop</a></li>
          <li><a href="../Blog_About_Pages/Blog_page.html">Blog</a></li>
          <li><a href="../Blog_About_Pages/About_page.html">About</a></li>
          <li><a href="../modules/contact/contact.html">Contact</a></li>
          <li >
            <a href="../modules/cart/cart.html" class="header__action-btn" title="Cart">
              <img src="../../assets/images/icon-cart.svg" alt="" />
              <span  class="cart__count"></span>
            </a>
          </li>
              <!--  ================ User part in navbar ================ -->
              <li id="user-nav">
          <a href="#" id="close"><i class="fa-solid fa-xmark"></i></a>
        </ul>
      </div>
      <div id="mobile">
        <a href="../modules/cart/cart.html" class="header__action-btn" title="Cart">
          <img src="../../assets/images/icon-cart.svg" alt="" />
          <span class="cart__count"></span>
        </a>
        <i id="bar" class="fa-solid fa-outdent"></i>
      </div>
    </section>

    <section id="prodDetails" class="section-p1">

    </section>

    <!-- <section class="product1" id="product1">
      <h2>See Also</h2>
       Container for filtered products 
      <div class="pro-container"></div>
    </section> -->

    <section id="newsletter" class="section-p1 section-m1">
      <div class="newsletter">
        <h4>Sign Up For NewLetters</h4>
        <p>
          Get E-mail updates about our latest shop and
          <span>special offers.</span>
        </p>
      </div>
      <!-- <div class="form">
        <input type="text" placeholder="Your email address" />
        <button class="normal"><a href=".././modules/user/register.html">Sign Up</a></button>
      </div> -->
    </section>

    <footer class="section-p1">
      <div class="col">
        <img class="logo" src="../assets/images/logo.png" style="height: 30px;" alt="" />
        <h4>Contact</h4>
        <p>
          <strong>Address:</strong>562 Wellington Road /Street 32, San Francisco
        </p>
        <p><strong>Phone:</strong>+01 2222 365 /(+91)01 2345 6789</p>
        <p><strong>Hours:</strong>10:00 - 18:00, Mon - Sat</p>
        <div class="follow">
          <h4>Follow Us</h4>
          <div class="icons">
            <i class="fa-brands fa-facebook-f"></i>
            <i class="fa-brands fa-twitter"></i>
            <i class="fa-brands fa-instagram"></i>
            <i class="fa-brands fa-pinterest"></i>
            <i class="fa-brands fa-youtube"></i>
          </div>
        </div>
      </div>
      <div class="col">
        <h4>About</h4>
        <a href="#">About us</a>
        <a href="#">Delivery Information</a>
        <a href="#">Privacy Policy</a>
        <a href="#">Terms&Conditions</a>
        <a href="#">Contact Us</a>
      </div>
      <div class="col">
        <h4>My Account</h4>
        <a href="#">Sign In</a>
        <a href="#">View Cart</a>
        <a href="#">My wishlist</a>
        <a href="#">Track My Order</a>
        <a href="#">Help</a>
      </div>
      <div class="col install">
        <h4>Install App</h4>
        <p>FRom App Store or Google Play</p>
        <div class="row">
          <img src="../images/app.jpg" alt="" />
          <img src="../images/play.jpg" alt="" />
        </div>
        <p>Secured Payment Gat</p>
        <img src="../images/pay.png" />
      </div>
      <div class="copyright">&copy; 2024, Tech - E-commerce</div>

    </footer>


    <!-- <script src="shop.js" type="module"></script> -->
    <script src="product-details.js" type="module"></script>
    <script src="../cartHandler.js"></script>
    <script src="../javascript.js" type="module"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        const totalCount = cart.reduce((count, item) => count + item.quantity, 0); // Sum of all product quantities
        const cartCountElement = document.querySelector('.cart__count'); // Select the element with the class
        cartCountElement.textContent = totalCount;
    
        // ------------------- navbar -------------------
        const userNav = document.getElementById('user-nav'); // Placeholder for user-specific links
        const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));
    
        if (loggedInUser) {
            // User is logged in, show their name and Logout button
            userNav.innerHTML = `
            <a href="/modules/user/profile.html">${loggedInUser.firstName}</a>
           <a id="logoutBtn" style="margin-left: 10px; color: white; background-color: #dc3545; border-color: #dc3545; padding: 5px 10px; border-radius: 5px; cursor: pointer;">Logout</a>
          `;
    
            // Handle Logout
            document.getElementById('logoutBtn').addEventListener('click', function () {
                localStorage.removeItem('loggedInUser');
                // alert('You have logged out!');
                window.location.reload(); // Reload page to update the navbar
            });
        } else {
            // User is logged out, show Login and Register buttons
            userNav.innerHTML =
                `
            <a href="../modules/user/login.html"
            style="margin-right: 10px; color: white; background-color: #007bff; border-color: #007bff; padding: 5px 10px; border-radius: 5px; text-decoration: none; cursor: pointer;"
            >Login</a>
            <a href="../modules/user/register.html"
            style="color: white; background-color: #28a745; border-color: #28a745; padding: 5px 10px; border-radius: 5px; text-decoration: none; cursor: pointer;"
            >Register</a>
    
          `;
        }
    });
    </script>
  </body>
</html>
